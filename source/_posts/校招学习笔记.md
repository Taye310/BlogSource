---
title: 校招学习笔记
date: 2019-09-16 16:41:40
tags: 
    - 刷题
---

# 笔试

## 计算机网络

[资料](https://github.com/huihut/interview#%EF%B8%8F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C)  
TCP创建连接：三次握手  
释放连接：四次挥手  

## 操作系统



## 数据库

[BCNF（修正的第三范式3NF）](https://blog.csdn.net/qq_43079376/article/details/93647335)

## C++

[C++ & C#/Unity notebook](https://taye310.github.io/2019/02/18/lang-notebook/)

## 数据结构与算法

[github](https://github.com/huihut/interview)  

[贪心算法实例](https://leetcode-cn.com/problems/jump-game-ii/)

[位运算相关](https://www.zhihu.com/question/38206659/answer/763034261)

（重要）单调栈：[link](https://blog.csdn.net/lucky52529/article/details/89155694)

并查集：[link1](https://zhuanlan.zhihu.com/p/93647900)  

[线段树，有点谜](https://leetcode-cn.com/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/)

**十大排序**

冒泡：两层循环，两两比较  
``` C++
template<typename T> //整数或浮点数皆可使用,若要使用类(class)或结构体(struct)时必须重载大于(>)运算符
void bubble_sort(T arr[], int len) {
        int i, j;
        for (i = 0; i < len - 1; i++)
                for (j = 0; j < len - 1 - i; j++)
                        if (arr[j] > arr[j + 1])
                                swap(arr[j], arr[j + 1]);
}
```

选择：未排序序列里找最小（大）的放到最前边  
``` C++
template<typename T> //整數或浮點數皆可使用，若要使用物件（class）時必須設定大於（>）的運算子功能
void selection_sort(std::vector<T>& arr) {
        for (int i = 0; i < arr.size() - 1; i++) {
                int min = i;
                for (int j = i + 1; j < arr.size(); j++)
                        if (arr[j] < arr[min])
                                min = j;
                std::swap(arr[i], arr[min]);
        }
}
```

插入：未排序序列的第一个，插入到已排序序列中的合适位置，已排序序列从后往前遍历arr[j+1] = arr[j]  
插排的问题在于：如果在后面来了一个特别小的元素，需要全部移动，那么排序的效率特别低。  
``` C++
void insertion_sort(int arr[],int len){
        for(int i=1;i<len;i++){
                int key=arr[i];
                int j=i-1;
                while((j>=0) && (key<arr[j])){
                        arr[j+1]=arr[j];
                        j--;
                }
                arr[j+1]=key;
        }
}
```

希尔（插入排序改进）：n个数先分n/2组(gap = n/2)，分组进行插入排序（n=10，也就是1st数和6th数一组进行插入排序，2-7，3-8，4-9，5-10），然后gap = n/4...  
``` C++
template<typename T>
void shell_sort(T array[], int length) {
    int h = 1;
    while (h < length / 3) {
        h = 3 * h + 1;
    }
    while (h >= 1) {
        for (int i = h; i < length; i++) {
            for (int j = i; j >= h && array[j] < array[j - h]; j -= h) {
                std::swap(array[j], array[j - h]);
            }
        }
        h = h / 3;
    }
}
```

快排：第一个做pivot，小于大于放左右，在迭代  
``` C++
//严蔚敏《数据结构》标准分割函数
 Paritition1(int A[], int low, int high) {
   int pivot = A[low];
   while (low < high) {
     while (low < high && A[high] >= pivot) {
       --high;
     }
     A[low] = A[high];
     while (low < high && A[low] <= pivot) {
       ++low;
     }
     A[high] = A[low];
   }
   A[low] = pivot;
   return low;
 }

 void QuickSort(int A[], int low, int high) //快排母函数
 {
   if (low < high) {
     int pivot = Paritition1(A, low, high);
     QuickSort(A, low, pivot - 1);
     QuickSort(A, pivot + 1, high);
   }
 }
```

归并：分两半，分不到不能分，在一层一层合并回来；合并的时候保证每层有序  
``` C++
void Merge(vector<int> &Array, int front, int mid, int end) {
    // preconditions:
    // Array[front...mid] is sorted
    // Array[mid+1 ... end] is sorted
    // Copy Array[front ... mid] to LeftSubArray
    // Copy Array[mid+1 ... end] to RightSubArray
    vector<int> LeftSubArray(Array.begin() + front, Array.begin() + mid + 1);
    vector<int> RightSubArray(Array.begin() + mid + 1, Array.begin() + end + 1);
    int idxLeft = 0, idxRight = 0;
    LeftSubArray.insert(LeftSubArray.end(), numeric_limits<int>::max());
    RightSubArray.insert(RightSubArray.end(), numeric_limits<int>::max());
    // Pick min of LeftSubArray[idxLeft] and RightSubArray[idxRight], and put into Array[i]
    for (int i = front; i <= end; i++) {
        if (LeftSubArray[idxLeft] < RightSubArray[idxRight]) {
            Array[i] = LeftSubArray[idxLeft];
            idxLeft++;
        } else {
            Array[i] = RightSubArray[idxRight];
            idxRight++;
        }
    }
}

void MergeSort(vector<int> &Array, int front, int end) {
    if (front >= end)
        return;
    int mid = (front + end) / 2;
    MergeSort(Array, front, mid);
    MergeSort(Array, mid + 1, end);
    Merge(Array, front, mid, end);
}
```

堆排序，构建最大/最小堆时：
1. 父结点索引：(i-1)/2（这里计算机中的除以2，省略掉小数）
2. 左孩子索引：2*i+1
3. 右孩子索引：2*i+2  

``` C++
void max_heapify(int arr[], int start, int end) {
    // 建立父節點指標和子節點指標
    int dad = start;
    int son = dad * 2 + 1;
    while (son <= end) { // 若子節點指標在範圍內才做比較
        if (son + 1 <= end && arr[son] < arr[son + 1]) // 先比較兩個子節點大小，選擇最大的
            son++;
        if (arr[dad] > arr[son]) // 如果父節點大於子節點代表調整完畢，直接跳出函數
            return;
        else { // 否則交換父子內容再繼續子節點和孫節點比較
            swap(arr[dad], arr[son]);
            dad = son;
            son = dad * 2 + 1;
        }
    }
}

void heap_sort(int arr[], int len) {
    // 初始化，i從最後一個父節點開始調整
    for (int i = len / 2 - 1; i >= 0; i--)
        max_heapify(arr, i, len - 1);
    // 先將第一個元素和已经排好的元素前一位做交換，再從新調整(刚调整的元素之前的元素)，直到排序完畢
    for (int i = len - 1; i > 0; i--) {
        swap(arr[0], arr[i]);
        max_heapify(arr, 0, i - 1);
    }
}
```

计数/桶排序  

基数排序

稳定性：稳定性是一个特别重要的评估标准。稳定的算法在排序的过程中不会改变元素彼此的位置的相对次序,反之不稳定的排序算法经常会改变这个次序,这是我们不愿意看到的。

**查找算法**


**动态规划**
[详解](https://mp.weixin.qq.com/s/yEfrTK7UhRN0XX0_FVLyGA)

**时间复杂度计算：**
[参考资料](https://blog.csdn.net/kun1280437633/article/details/80770296)  

对数阶怎么来的：循环的时候i不是+常数来的，是i=i*2这样乘来的就是对数阶复杂度了  
``` bash
for(i<100) i=i*2;
```
$i^2=100$ -> $O(log_{2}100)$ 

**二叉树计算公式总结：**  
1. n个节点的二叉树一共有((2n)!)/(n! * (n+1)!)种 [catalan数](https://blog.csdn.net/iG_xdd/article/details/79808519)
2. n层二叉树的第n层最多为2^(n-1)个
3. 二叉树节点计算公式 N = n0+n1+n2，度为0的叶子节点比度为2的节点数多一个。N=1*n1+2*n2+1
4. 对任何一棵二叉树T，如果其终端节点数为n0，度为2的节点数为n2，则n0=n2+1
5. 具有n个节点的完全二叉树的深度为log2(n + 1)

**图计算公式总结：**  
N个点的无向完全图边数为：N*（N-1）/2；  
先手获胜必须总数为奇数；  
N=1,2,3,......,9,10代入公式，为奇数的只有N=2,3,6,7,10这5个。  

> **无向图：**  
遍历：DFS用栈 / BFS用队列  
邻接矩阵法存图 占用空间与什么有关  
在无向图中，如果从顶点vi到顶点vj有路径，则称vi和vj连通。如果图中任意两个顶点之间都连通，则称该图为连通图，否则，称该图为非连通图，则其中的极大连通子图称为连通分量，这里所谓的极大是指子图中包含的顶点个数极大。  
A,边的条数为C（n,2）=n(n-1)/2  
B,G是完全图，必定是连通图。所以连通分量只有其自身  
C，G是完全图，必定是连通图  
D，每个顶点都与其余n-1个顶点相连，则n个顶点度的和为n(n-1)  

> **无向带权图的最小生成树算法——Prim及Kruskal算法思路**  
 带权图分为有向和无向，无向图的最短路径又叫做最小生成树，有prime算法和kruskal算法；有向图的最短路径算法有dijkstra算法和floyd算法。  
 [最小生成树（prime算法、kruskal算法） 和 最短路径算法（floyd、dijkstra）](https://www.cnblogs.com/aiyelinglong/archive/2012/03/26/2418707.html)  

> **广义表：**  
head() 返回列表的第一个元素；
tail() 返回列表的删去第一个元素之后的剩余列表；  

> **hash：**  
装填因子：对5个对象进行hash,而内存中，准备了20个位置，那么还有15个空位，最后装填因子就是5/20 = 0.25，所以装填因子越小，产生冲突的可能越小。  
1、hash索引仅满足“=”、“IN”和“<=>”查询，不能使用范围查询  
因为hash索引比较的是经常hash运算之后的hash值，因此只能进行等值的过滤，不能基于范围的查找，因为经过hash算法处理后的hash值的大小关系，并不能保证与处理前的hash大小关系对应。  
2、hash索引无法被用来进行数据的排序操作  
由于hash索引中存放的都是经过hash计算之后的值，而hash值的大小关系不一定与hash计算之前的值一样，所以数据库无法利用hash索引中的值进行排序操作。  
3、对于组合索引，Hash 索引在计算 Hash 值的时候是组合索引键合并后再一起计算 Hash 值，而不是单独计算 Hash 值，所以通过组合索引的前面一个或几个索引键进行查询的时候，Hash 索引也无法被利用。  
4、Hash 索引遇到大量Hash值相等的情况后性能并不一定就会比B-Tree索引高。  
对于选择性比较低的索引键，如果创建 Hash 索引，那么将会存在大量记录指针信息存于同一个 Hash 值相关联。这样要定位某一条记录时就会非常麻烦，会浪费多次表数据的访问，而造成整体性能低下。  

> **循环队列：**  
front=rear意味着队空或者队满，再入队或者出队就要上溢或者下溢了  

> **杂项：**  
KMP算法：一种不舍弃之前匹配信息的字符串匹配算法，时间复杂度O(m+n) 其中*next[j]就是第j个元素前j-1个元素首尾重合部分个数加一*  
输出受限的双端队列,即删除限制在一端进行,而插入仍允许在两端进行.  

## 其他知识点

创建型模式，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。  
结构型模式，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。  
行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。  

正则表达式：

## leetcode刷题

109 有序链表转换二叉搜索树
    快慢指针加递归 每次递归，都是把链表分成两段；前面的那个链表末尾必须要加上nullptr，才算是分成了两个链表。

56  合并区间
    push_back 和 emplace_back的区别，e更好 因为少一个构造函数

712 两个字符串的最小ascii删除和
    DP LCS 最长公共子序列（Longest Common Sequence）
    最优子结构/重叠子问题（用dp就是查表得到的不用重新计算）

407 接雨水2

208 实现前缀树  

207 课程表  
有向无权图是否存在环，用拓扑排序（记入度、还有邻接表，然后从入度为1的点开始删边就可以了，看最后入度是否都为0）判断，还可以使用DFS

面试题41. 数据流中的中位数  
二分查找插入用到了模板函数lower_bound/upper_bound(store.begin(), store.end(), num)  
时间复杂度 $O(logN) + O(N)$ 约等于$O(N)$  
（重要）[优先队列priority_queue](https://leetcode-cn.com/problems/maximum-number-of-events-that-can-be-attended/solution/xiang-jie-you-xian-dui-lie-tan-xin-suan-fa-by-z1m/) 时间复杂度$O(logN)$ 本质上是个堆，一棵完全二叉树  
``` C++
//对于基础类型 默认是大顶堆
    priority_queue<int> a; 
    //等同于 priority_queue<int, vector<int>, less<int> > a;
     
    //      这里一定要有空格，不然成了右移运算符↓↓
    priority_queue<int, vector<int>, greater<int> > c;  //这样就是小顶堆
```

820 [单词的压缩编码](https://leetcode-cn.com/problems/short-encoding-of-words/)：字典树  

[面试题62](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/solution/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-by-lee/). 圆圈中最后剩下的数字：约瑟夫环  
``` C++
int f(int n, int m) {
    if (n == 1)
        return 0;
    int x = f(n - 1, m);
    return (m + x) % n;
}

int lastRemaining(int n, int m) {
    return f(n, m);
}
```
``` C++
int lastRemaining(int n, int m) {
        int f = 0;
        for (int i = 2; i != n + 1; ++i)
            f = (m + f) % i;
        return f;
    }
```

135 [分发糖果（头条笔试题）](https://leetcode-cn.com/problems/candy/)

**剑指offer系列：**  
size_t: 与int固定四个字节不同有所不同,size_t的取值range是目标平台下最大可能的数组尺寸,一些平台下size_t的范围小于int的正数范围,又或者大于unsigned int. 使用Int既有可能浪费，又有可能范围不够大。  
```
string replaceSpace(string s) {
    size_t pos;
    while(true){
        pos = s.find(" ");
        if(pos<string::npos){
            s.replace(pos,1,"%20");
        }else{
            break;
        }
    }
    return s;
}
```

面试题16. 数值的整数次方： 可以用位运算，$3^5 = 3^{101_{2}} = 3^{2^2+2^0} = 9^2*3^1$  

vector的insert方法使用迭代器参数可以用来合并vector  

```
while(!s.empty()&&pos<popped.size()&&popped[pos] == s.top()){//三个条件的顺序很重要
```

中序遍历用 栈

## 牛客刷题

union的大小取决于它所有的成员中，占用空间最大的一个成员的大小，并且需要内存对齐  

c++的类体中，方法以外的区域不允许有初始化，简单类型是可以的，但是有构造函数的复杂对象则不行了，比如string对象！
```
error,expected identifier before numeric constant
```


# 面试

项目经历的star原则 p6  

## 面试问题总结

new和malloc的区别：  
new/delete（C++运算符）会自动调用构造函数和析构函数，底层是malloc/free（标准库函数，编译器无权控制其调用构造/析构函数），比其更智能  
失败后前者抛异常，后者返回NULL，成功返回的都是指针  

进程线程的区别：已有  

vector/set实现机制：  
vector用数组,set用的时红黑树。Vector内存分配使用的是STL的allocator分配器，采用二层分配机制，申请内存大于128K时使用malloc，小于128K时使用内存池，接着讲了一下内存池的机制，维护16个空闲链表之类的  
vector动态增加大小时，并不是在原空间之后持续新空间（因为根本无法保证原空间之后尚有可供配置的空间），而是以原大小的两倍另外配置一块较大的空间，然后将内容拷贝过来，然后才开始在原内容之后构造新元素，并释放原空间，因此，一旦引起空间重新配置，指向原vector的所有迭代器都失效了，这是程序员易犯的一个错误，务必小心  
set 底层红黑树（平衡二叉树）目的是为了高效检索

数据库索引作用，怎么实现的：  
高效获取数据，BTree索引、哈希索引、全文索引等  
[BST、BTree、B+Tree](https://zhuanlan.zhihu.com/p/27700617)  

虚函数如何实现动态多态的：  
动态多态与静态多态，静态多态就是在系统编译期间就可以确定程序执行到这里将要执行哪个函数，函数的重载，对象名加点操作符执行成员函数等；
多态的实现：分为两类，编译时的多态与运行时的多态。前者在编译的过程中确定了同名的具体操作对象，而后者是在程序运行过程中才多态地确定操作所指向的对象。这种确定操作具体对象的过程就是绑定。绑定工作在编译连接阶段完成的情况为静态绑定，在程序运行过程中完成的情况是动态绑定。  
重载overload：函数名相同，但是函数参数不同。调用时根据参数的不同决定调用哪一个函数；  
多态：函数名相同，函数形参也相同。调用时根据函数类型是虚函数还是普通成员函数决定调用哪一个。  

纯虚函数的作用：向子类提供接口，定义纯虚函数的类为抽象类  

结构体和类的区别：

结构体为什么要字节对齐：

LCA算法：

# 面经复盘

## 字节跳动--游戏研发

<div style="width:300px">
    {% asset_img jrtt1.jpg %}
</div>

1. 
```
指针常量：int * const p
常量指针：const int * p
```

2. 判断扇形区域内  
算两点距离（半径） 算两向量夹角  

3. 一万个球，知道圆心位置和半径，如何预处理/数据结构存储，新加球可以最少次数判断是否相交  
TODO  

4. 4个人分100金币，第一个人怎么分半数以上人同意（智力题？）  
给第三个人一个金币，不然他一个也拿不到  

5. 无向图连通最小花费：最小生成树（prime，keruskal）//有向图最短路径（单源dijstra，多源floyd）  
```
prime(加点法):每次迭代选择代价最小的边对应的点，加入到最小生成树中。算法从某一个顶点s开始，逐渐长大覆盖整个连通网的所有顶点。  
kruskal(加边法):初始最小生成树边数为0，每迭代一次就选择一条满足条件的最小代价边，加入到最小生成树的边集合里。

dijkstra：类似prime

floyd多源最短路径：动态规划Dis(i,j) = Dis(i,k) + Dis(k,j)
```

6. 字符串以词为单位反转  
两个栈  

7. 顶点着色器/片元着色器作用/什么是片元  
```
顶点着色器：分为输入和输出两部分,负责的功能是把输入的数据进行矩阵变换位置,计算光照公式生成逐顶点颜⾊,⽣成/变换纹理坐标.并且把位置和纹理坐标这样的参数发送到片段着色器.  
片元着色器：处理由光栅化阶段生成的每个片元，最终计算出每个像素的最终颜色。归根结底，实际上就是数据的集合。这个数据集合包含每一个像素的各个颜色分量和像素透明度的值。

*光栅化*，就是计算出1920×1080这么长的RGB数组中，每一个RGB的值

3D场景中将三角形作为基本*图元*

片元是光栅化过程的产物；光栅化是将一个图元转变为一个二维图象，二维图象上每个点都包含了颜色、深度和纹理数据，将该点和相关信息叫做一个片元
```

设计模式！工厂/观察者/策略模式？  
工厂模式：调用工厂只管给个名字，工厂里根据名字实例化对应的对象（选对应接口）；解决了接口选择的问题，拓展方便。

观察者模式：mvc，子类继承一个update方法，使用者在notify所有监听的子类时调用基类update

策略模式：核心是有个context，根据构造函数实例化了strategy的具体一种子类作为context的成员，因此context.excuteStrategy()可以调用context里的特定的strategy实例的doStrategy方法

stl里的trace？  
trace()函数？调试用的

工厂模式有几种？？  
3：简单工厂/工厂模式/抽象工厂（工厂的工厂）

光照模型公式  
```
3D渲染中， 物体表面的光照计算公式为：

I = 环境光(Iambient) + 漫反射光(Idiffuse) + 镜面高光(Ispecular);

其中，环境光(ambient)计算公式为：

Iambient = Aintensity * Acolor ; (Aintensity表示环境光强度，Acolor表示环境光颜色)

漫反射光(diffuse)计算公式为：

Idiffuse = Dintensity*Dcolor*N·L ; (Dintensity表示漫反射强度，Dcolor表示漫反射光颜色，N为该点的法向量，L为光源向量) ps:点乘是投影

镜面光照(specular)计算公式为：

Ispecular = Sintensity*Scolor*(R·V)n ; (Sintensity表示镜面光照强度，Scolor表示镜面光颜色，R为光的反射向量，V为观察者向量)

综上所得：整个光照公式为：

I = Aintensity * Acolor + Dintensity*Dcolor*N.L + Sintensity*Scolor*(R.V)n ;

将一些值合并，并使用白色作为光照颜色，则上述公式可简化为：

I = A + D*N.L + (R.V)n

```

类的内存结构  
[link](https://blog.csdn.net/fenxinzi557/article/details/51995911)  
记得字节对齐
```
char c;
int i; //是8字节 因为int之前的要对齐到int的4字节
```
类中有虚函数 要+4字节 因为有虚函数表  函数本身不占字节
继承的子类要先放父类的数据拷贝  

1. 对于基类，如果有虚函数，那么先存放虚函数表指针，然后存放自己的数据成员；如果没有虚函数，那么直接存放数据成员。 
2. 对于单一继承的类对象，先存放父类的数据拷贝(包括虚函数表指针)，然后是本类的数据。 
3. 虚函数表中，先存放父类的虚函数，再存放子类的虚函数 
4. 如果重载了父类的某些虚函数，那么新的虚函数将虚函数表中父类的这些虚函数覆盖。 
5. 对于多重继承，先存放第一个父类的数据拷贝，在存放第二个父类的数据拷贝，一次类推，最后存放自己的数据成员。其中每一个父类拷贝都包含一个虚函数表指针。如果子类重载了某个父类的某个虚函数，那么该将该父类虚函数表的函数覆盖。另外，子类自己的虚函数，存储于第一个父类的虚函数表后边部分。 
6. 当对象的虚函数被调用是，编译器去查询对象的虚函数表，找到该函数，然后调用。

构造函数/析构函数/虚函数  

**在构造/析构函数中调用虚函数：** effective c++ 条款9：永远不要在构造函数或析构函数中调用虚函数

<div style="width:300px">
    {% asset_img jrtt3.jpg %}
</div>

>> 信号量  
信号量(Semaphore)，有时被称为信号灯，是在多线程环境下使用的一种设施, 它负责协调各个线程, 以保证它们能够正确、合理的使用公共资源。  

互斥量和信号量的区别：  
1. 互斥量用于线程的互斥，信号量用于线程的同步。  
这是互斥量和信号量的根本区别，也就是互斥和同步之间的区别。  
互斥：是指某一资源同时只允许一个访问者对其进行访问，具有唯一性和排它性。但互斥无法限制访问者对资源的访问顺序，即访问是无序的。  
同步：是指在互斥的基础上（大多数情况），通过其它机制实现访问者对资源的有序访问。在大多数情况下，同步已经实现了互斥，特别是所有写入资源的情况必定是互斥的。少数情况是指可以允许多个访问者同时访问资源  

2. 互斥量值只能为0/1，信号量值可以为非负整数。  
也就是说，一个互斥量只能用于一个资源的互斥访问，它不能实现多个资源的多线程互斥问题。信号量可以实现多个同类资源的多线程互斥和同步。当信号量为单值信号量是，也可以完成一个资源的互斥访问。  

3. 互斥量的加锁和解锁必须由同一线程分别对应使用，信号量可以由一个线程释放，另一个线程得到。  

[互斥锁、自旋锁、读写锁](https://blog.csdn.net/judgejames/article/details/87286397)：读写锁，读可以多线程同时占有，写只能有一个线程占有，读写不同时，还有个不加锁状态；互斥锁，一次只能一个线程拥有互斥锁，其他线程只有等待；自旋锁，特殊的互斥锁，不睡眠，循环等待，好处是节省睡眠唤醒的资源  

>> 死锁  

>> 进程和线程的区别 PCB TCB
1. 进程是资源分配的最小单位，线程是程序执行的最小单位（资源调度的最小单位）
2. 进程有自己的独立地址空间，每启动一个进程，系统就会为它分配地址空间，建立数据表来维护代码段、堆栈段和数据段，这种操作非常昂贵。
而线程是共享进程中的数据的，使用相同的地址空间，因此CPU切换一个线程的花费远比进程要小很多，同时创建一个线程的开销也比进程要小很多。
3. 线程之间的通信更方便，同一进程下的线程共享全局变量、静态变量等数据，而进程之间的通信需要以通信的方式（IPC)进行。不过如何处理好同步与互斥是编写多线程程序的难点。
4. 但是多进程程序更健壮，多线程程序只要有一个线程死掉，整个进程也死掉了，而一个进程死掉并不会对另外一个进程造成影响，因为进程有自己独立的地址空间。

<div style="width:300px">
    {% asset_img jrtt2.jpg %}
</div>
>> 80个球找轻的  

>> 64个人，提前准备名单卡片来确认是哪个人  

>> 九宫格密码解锁的所有可能，大于等于四位数

## 网易雷火--牛客网

问简历内容  
游戏内AI如何实现：有限状态机，行为树  
一个UI被点击后发生了什么：  
  
**基础相关：**  
C++虚函数机制，虚表，虚指针：  
虚函数实在派生类可以覆写的函数，虚表存在于类内存中，记录了所有虚函数，每个虚表对应一个虚指针指向它  

构造函数可以是虚函数吗？  
不可以，虚函数调用是在部分信息下完成工作的机制，允许我们只知道接口而不知道对象的确切类型。 要创建一个对象，你需要知道对象的完整信息。 特别是，你需要知道你想要创建的确切类型。 因此，构造函数不应该被定义为虚函数。  

>> C# 内存模型 堆和栈  
[link](https://www.cnblogs.com/omg24/p/4202992.html)  
<div style="width:400px">
    {% asset_img valueandref.png %}
</div>
[link2](https://www.cnblogs.com/xiaodongy/p/7989711.html)

C# gc 值类型与引用类型  
注：Ref和Out的区别在于Ref在传递前需要初始化。  
值类型在栈上，引用类型在堆上；前者不需要gc，后者需要  
close()可以再open，dispose()后资源被标记为无用，等待gc回收  
非托管资源需要在程序中显式释放  
对象间相互引用导致了gc丧失实时性，变为不确定的方式，否则可以用引用计数这种方法判断对象是否无用  
GC清理垃圾实际上就是调用析构函数  
String对象是不可变的（只读），一旦创建不可改变，看似修改其实是返回了一个新对象  

[随机在圆上生成n个点，这n个点在同一半圆的概率是多少？](https://blog.csdn.net/zmazon/article/details/8547278)


lua闭包  
内部（子）函数可以使用外部（父）函数的局部变量
``` lua
function test()
    local i=0
    return function() --尾调用
        i+=1
        return i
    end
end
c1=test()
c2=test() --c1,c2是建立在同一个函数，同一个局部变量的不同实例上面的两个不同的闭包
          --闭包中的upvalue各自独立，调用一次test（）就会产生一个新的闭包
print(c1()) -->1
print(c1()) -->2//重复调用时每一个调用都会记住上一次调用后的值，就是说i=1了已经
print(c2())    -->1//闭包不同所以upvalue不同    
print(c2()) -->2
```

lua怎么实现面向对象  
[lua作者的方法](http://www.lua.org/pil/16.html)  
object：用table做  
    table后边也可以用冒号（是个语法糖，剩了传self/this
    ```
        a.deposit(a,100) == a:deposit(100)
    ```
    ）  
    ``` lua
    function Account:withdraw (v)
        self.balance = self.balance - v
        end
    ```
class：setmetatable  
``` lua
setmetatable(a, {__index = b}) --b是object a的class
```
实现继承和重载
[风云的方法](https://blog.codingnow.com/2006/06/oo_lua.html)  
只定义一个class函数  
table [参考资料](https://www.cnblogs.com/msxh/p/8469340.html)  

>> 算法：最长公共子字符串（动态规划）  
状态转移方程$dp[i,j] = dp[i+1,j+1] + 1$ 用滚动数组可以省内存，优化

>> 算法：n叉树子节点值的和最大，规则不能同时取相邻的节点  

>> 渲染管线  

**二面：**  
实习经历相关  

游戏框架、设计模式  

值类型与引用类型 引用类型创建慢的原因，具体到内存  

博客上的文章 提了问题  

手写二分查找  

斐波那契数列递归与非递归写法 怎么优化  

有什么要问的  

## 面经——牛客

### 游戏研发

[字节1](https://www.nowcoder.com/discuss/386400)  

[字节2](https://www.nowcoder.com/discuss/388667)  
介绍const，const修饰成员函数放哪儿？  
修饰变量，说明该变量不可以被改变；  
修饰指针，分为指向常量的指针（pointer to const）和自身是常量的指针（常量指针，const pointer）；  
修饰引用，指向常量的引用（reference to const），用于形参类型，即避免了拷贝，又避免了函数对值的修改；  
修饰成员函数（放在最后），说明该成员函数内不能修改成员变量（修饰的实际上是this，this是成员函数的调用对象）。  
const int* p是p这个指针指向的值是个常量；  
int* const p是p这个指针是个常量，但是*p何以变；  

vector内存？[如何避免vector扩容](http://c.biancheng.net/view/7397.html)？
vector对象在栈上，内容在堆上； reserve(n)强制容量为n  

函数可以返回引用吗？  
可以，函数返回值时会产生一个临时变量作为函数返回值的副本，返回引用直接返回内存  

如何进行字符串拷贝？  
strcpy ```char   *strcpy(char   *dest,char   *src);```
功能：把src所指由NULL结束的字符串复制到dest所指的数组中。  
说明：src和dest所指内存区域不可以重叠且dest必须有足够的空间来容纳src的字符串。  

进程和线程？  
进程包含线程，一个线程挂了整个进程挂，进程与进程之间不影响，进程是资源分配的最小单位，线程是资源调度的最小单位  

多线程同步？如何避免两个线程争一个资源？  
互斥锁和信号量  

[TCP UDP](https://www.cnblogs.com/fundebug/p/differences-of-tcp-and-udp.html)？  
传输层协议，tcp可靠，有链接，upd延迟低，无连接  

TCP四次挥手？（我说了个四次握手 感觉面试官楞了一下）  
断开连接，四次挥手，全双工 两次FIN（关闭连接）两次ACK（响应）  

Unity如何改变一个物体的位置 旋转？  

Unity本地坐标和世界坐标？  

Unity调整旋转需要传什么参数？参数在数学上叫做什么？（我潜意识说的欧拉角 看他点了点头）还能怎么修改？    
[四元数](https://blog.csdn.net/candycat1992/article/details/41254799)：可以跟欧拉角互相转换，四维空间向量  

了解图形学？（说只知道一点渲染管线就没问）  

如何使用协程？协程和线程区别？  
协程 IEnumerator startcoroutine  
区别在于所有协程在一个线程内完成，是比线程更轻量的异步方法，在程序层面，而线程和进程在操作系统层面  

C#拆装箱  
装拆箱其实就是值类型和引用类型两者之间的类型转换操作，引用类型（object）都是在栈上放个地址，地址指向堆上的内存  
装箱：值类型到引用类型（int->object）隐式转换  
拆箱：反之，显式  

[字节3](https://www.nowcoder.com/discuss/366357)  

[网易1](https://www.nowcoder.com/discuss/259699)  

[天美，字节创新业务，雷火](https://www.nowcoder.com/discuss/405621)

[字节，雷火，b站](https://www.nowcoder.com/discuss/384810)

[字节引擎](https://www.nowcoder.com/discuss/233959)  

[字节游戏测试](https://www.nowcoder.com/discuss/390823)  
自我介绍
tcp与udp的区别  
tcp是面向连接的，提供可靠的服务，保证数据完整性、没有重复、按顺序到达，udp无连接延迟低

[http与https的区别，https的劣势](https://blog.csdn.net/xiaoming100001/article/details/81109617)  
前者明文传输，后者可进行加密传输、身份认证  
后者降低了用户的访问速度，加重服务端压力；ca证书年费花销  

进程与线程的区别  
资源分配最小单位和资源调度最小单位，线程挂整个进程挂，进程挂对其他的没影响；线程间通讯代价小  

多态，gc  

set与hashset的区别  

map与hashmap的区别  

快排的原理  

归并的原理  

多线程  

Linux的shell编程  

hashmap的查找，删除，添加的时间复杂度  

算法题：一个数组中有正数有负数（没有0），请将它排成正负相间的数组（多余的全部放后面），时间复杂度不超过O（n）;

### C++后端

[腾讯字节后台开发](https://www.nowcoder.com/discuss/399967)  

[字节后端](https://www.nowcoder.com/discuss/415859)  

项目为什么选用flask这个框架，对这个框架了解多少，有哪些并发模型。  
生产者消费者模型怎么实现的。  
中间有个阻塞队列作为“仓库”
共享内存的原理和实现。
[进程间如何同步。](https://blog.csdn.net/wuhuagu_wuhuaguo/article/details/78591330)  
临界区，互斥量，信号量，事件

负载均衡的算法你了解哪些？项目中的负载均衡是怎么实现的。
一次性哈希有了解过吗？
主键索引是什么，B+树有什么好处，主键索引和普通索引有什么区别。
查询慢怎么优化。
父子进程间共享哪些资源。
多线程之间共享哪些资源。
TCP有哪些机制保证可靠传输。
接收方，窗口缓存满了会怎么样，怎么知道又有空间了，通知发送的包再丢了怎么办。
思路题：20000个高考生，分布0-750的成绩，内存足够大，怎么排序最快。
代码题：aabbcsdaddabsds一个字符串，删除所有的ab。注意：aabb->ab->null。
二面
项目介绍。
FFmpeg介绍一下。
项目的进展现在怎么样？遇到了哪些问题，系统稳定性怎么优化。
负载均衡怎么做的？怎么判断服务忙不忙。
代码题：单链表判断是否有环？若有环如何判断环的入口。
死锁的概念，避免死锁的具体方法。
缓存机制有了解吗？缓存的替换策略有哪些，说一下。
思考题：如何判断恶意刷接口的情况？记录了10T的请求记录，找出前100个高频访问用户。
一致性哈希和普通哈希有什么区别？
三面
项目介绍
你们数据交互主要是内存是吧，怎么设计的？
怎么监控内存有没有泄漏，服务挂了数据会丢吗？
服务之间的负载均衡是怎么做的？有哪些负载均衡算法？
CPU调度算法有哪些。
系统调用了解吗？有哪些类型。
http状态码有哪些。
http和https的区别是什么。
代码题一：判断一棵二叉树是不是以根节点为镜像的。
代码题二：实现一个队列的类，有取最大值的接口，且时间复杂度为O（1）。
家在哪儿？看你实验室做了很多算法的东西，你自己的就业方向是怎么打算的？
实习可以来北京吗？什么时候可以开始，能实习多久。  

[字节后端](https://www.nowcoder.com/discuss/415504)  

自我介绍+聊实习项目

手撕代码：排课表，有依赖，拓扑排序

数学题：两个人抛硬币，谁先抛到正面谁赢，公平吗？不公平的话先手胜率多少？怎么改规则变的公平？

数据库为什么用B+树，为什么选择一个扁平的树而不是类似二叉树，B+树的度选取有什么讲究？最后一问没想出来，面试官说和磁盘的基本单位簇的大小有关。

线程是不是越多越好？和CPU的核心数量是什么关系？线程状态？为什么会阻塞？  
不是 占用内存，切换线程也浪费cpu资源；新建、就绪、运行、阻塞（回到就绪）、死亡

还有一些基础记不起来了。。。

五分钟后二面

二面
聊项目

Java并发，哪些集合线程安全，原理。。。这里问了很多，差不多线程有关的都过了一遍。。。

输入url后的过程，浏览器是怎么渲染页面的？

数据库为什么需要，联合索引，MVCC

智力题：1000个人，10个试管，测新冠。讲了两个方法，一个是2进制表示，一个二分。

代码：下一个字典序

二面面了将近1个半，好多内容记不清楚了。。。

4.20三面
自我介绍+项目

单例各种写法

双线程交替输出，要现场跑

设计短网址（之前了解过，但答的不算好）

平常咋学习

### 银行面经

[招商信用卡中心后台开发实习](https://www.nowcoder.com/discuss/426131)  
作者：alanpeng
链接：https://www.nowcoder.com/discuss/426131?type=post&order=time&pos=&page=0&channel=&source_id=1_post
来源：牛客网

4.21 招行信用卡中心 一面 牛客视频 17:00 30min

自我介绍  
项目介绍，问项目  
转java可以吗  
进程间通信的方式  
管道，信号量，共享内存，socket套接字，消息队列  

线程同步的方式  
临界区、信号量、事件、互斥量  

死锁的四个条件  
原因：1.系统资源不足 2.进程运行推进顺序不合适 3.资源分配不当  
必要条件：1.互斥条件 2.请求与保持条件 3.不剥夺条件 4.循环等待条件  

[内核线程与用户线程的区别](https://www.cnblogs.com/gizing/p/10925286.html)  
处于用户态执行时，进程所能访问的内存空间和对象受到限制，其所处于占有的处理器是可被抢占的
处于内核态执行时，则能访问所有的内存空间和对象，且所占有的处理器是不允许被抢占的。  

内核线程：线程切换由内核控制，切换的时候来，要从源用户态进入内核态，切换完毕要从内核态返回用户态；可以很好的利用百smp，即利用多核cpu。windows线程就是这样的。
用户级线程：用户态程序自己调度线度程切换问，不需要内核干涉，少了进出内核态的消耗，但不能很好的利用smp。答目前linux pthread大体是这么做的。  

[线程的具体执行过程](https://blog.csdn.net/a314774167/article/details/81292981)  
新建->就绪->运行->阻塞（等待阻塞、同步阻塞、其他阻塞）->死亡  

[cpu调度算法](https://blog.csdn.net/Ciellee/article/details/88783635)  
先来先服务调度（First Come First Serve）、短作业优先调度 （Short Job First）、响应比高者优先调度算法、优先数调度算法、循环轮转调度法（Round-Robin）  

[线程sleep和wait方法作用和区别](https://blog.csdn.net/u011028345/article/details/73351070)  
是否占用cpu，sleep是占着cpu睡觉

页面置换算法、LRU的底层实现（哈希表和双向链表）  
内存管理的算法。

TCP三次握手过程
长连接的保活机制、心跳包
怎么处理已经失效的连接
http的几种请求方式、GET/POST/PUT的区别
开放题：12306为什么不买很多服务器，但是抢票的时候还是不卡？（扯CAP，最后面试官说其实不买很多服务器的原因是一年抢票也就那么几次，考虑投入使用比）
高可用性的秒杀系统是怎么样的、使用情景（CAP舍弃C）
还投了哪些公司？拿到了哪些offer？怎么看互联网和银行、怎么选择？
反问
4.24 招行信用卡中心 二面 qq视频 11:00 30min

自我介绍
项目介绍、问项目
TCP三次握手四次挥手过程
最大堆、创建过程、堆排序
文件系统的索引用的什么数据结构
讲一下B+树，为什么效率高，为什么不用哈希表
java的(...)你知道吗（不知道）
日常生活问题
当班长怎么组织活动、具体步骤、有问题怎么解决
语言选择、城市选择
反问

### 其他研发

[趋势科技广联达后台](https://www.nowcoder.com/discuss/183215)

[广联达远程面试](https://www.nowcoder.com/discuss/267138)

[广联达C++实习](https://www.nowcoder.com/discuss/427484)  
十分钟介绍项目  
unity UI/游戏机制/shader/winapi+d3d/前端经历

除了C++还用过什么语言  

指针与引用的区别  
指针分配空间，引用只是别名  
指针可以为空，引用不可以  
引用只能初始化时定义一次，之后不可变  

面向对象的几个特点  
封装，继承，多态  

[c++几种类型转化](https://www.cnblogs.com/evenleee/p/10382335.html)  
const_cast：去const和volatile（所谓的易变性，在汇编层面反映出来，就是两条语句，下一条语句不会直接使用上一条语句对应的volatile变量的寄存器内容，而是重新从内存中读取）  
static_cast：无条件转换，静态类型转换  
dynamic_cast：有条件转换，动态类型转换，运行时检查类型安全  
reinterpret_cast：仅重新解释类型，但没有进行二进制的转换

stl的几个模块  
vector,map,set,unordered_map,unordered_set

泛型编程了解么?  
函数模板、类模板  
STL就是很好的例子（pair等）

说下你了解的排序算法  

说下快排  

[红黑树和AVL数树区别?  ](https://blog.csdn.net/liang3720/article/details/81700748)
红黑树只要大致的平衡，高度平衡树（avl）高度差最大为1；

说下斐波那契数列  
最近在看什么书  
[广联达开发](https://www.nowcoder.com/discuss/230890)  
[广联达人工智能](https://www.nowcoder.com/discuss/242943)  
[面经合集](https://www.nowcoder.com/discuss/322691)

### 自我介绍

1. 游戏研发：本科有Unity课程，对建模（PBR模型制作）到游戏引擎，甚至是剧本策划都有一定的了解。
个人之前的实习经历都是偏前端，有尝试mirror（unet），skynet，这些服务器框架，还在逐步学习。
对游戏引擎，准确说是渲染引擎比较感兴趣，本科课程中完成了简单的webgl渲染引擎，现在在学DX12 win32API的渲染引擎开发。
因为实验室课题缘故，掌握了一些深度学习相关的技能，linux系统用过，conda，pytorch，AI+GAME是很好的方向。

2. 后端研发：本科读的数字媒体技术，偏重于技术，同时也学习了ps，音视频剪辑，建模等一些课程。除了语言，还有oop这种基础课程，我大二下开始学习使用unity为主以C#作为脚本语言，游戏研发课程。游戏引擎开发，是做webgl的网页渲染引擎，白鹭实习。学习nodereactelectron技术栈，做的工作还是比较简单的，然后选择读研，没想搞学术，就是想多三年学点自己想学的东西。三维人体重建。跟本科时学的东西有关联。在做课题的同时也在回过头来看基础知识，查缺补漏，围绕着C/C++，更接近底层。这么做呢一方面是找工作需要，一方面也是为职业生涯考虑，我是希望可以做全栈工程师。

# todolist

格式化输出


# 企业列表

[资源链接](https://www.nowcoder.com/discuss/364482)

| 领域                   | 名称                               | 网址                                     | 备注                                            |
| ---------------------- | ---------------------------------- | ---------------------------------------- | ----------------------------------------------- |
| 监管机关               | 中国人民银行                       |                                          | 软件开发、信用卡中心                            |
|                        | 银监会                             |                                          |
|                        | 保监会                             |                                          |
|                        | 证监会                             |                                          |
| 政策性银行             | 国家开发银行                       |                                          |
|                        | 进出口银行                         |                                          |
|                        | 中国农业发展银行                   |                                          |
| 国有银行和商业银行     | 中国银行                           |                                          |
|                        | 中国农业银行                       |                                          |
|                        | 中国工商银行                       |                                          |
|                        | 中国建设银行                       |                                          |
|                        | 中国邮政                           |                                          |
|                        | 招商银行                           |                                          |
|                        | 平安                               |                                          |
|                        | 浦发                               |                                          |
|                        | 广发                               |                                          |
|                        | 中信                               |                                          |
| 外资银行               | 汇丰银行                           |                                          |
|                        | 渣打银行                           |                                          |
| 金融结算，交易服务     | 中国银联总部                       |                                          |
|                        | 中国网联                           |                                          |
|                        | 银联商务                           |                                          |
|                        | （上海、深圳）证券交易所           |                                          |
|                        | 中国人民银行清算中心               |                                          |
| 证券公司               | 华泰联合证券                       |                                          |
|                        | 广发证券                           |                                          |
| 电力                   | 国家电网                           |[link](https://zhaopin.sgcc.com.cn/unitInfo.html?obj_id=00994041&particulars=true) |提前批会很早 第一批在11月份 牛客为什么有人十月底就拿到offer了。。
|                        | 国家电网科学院（南瑞集团）         |                                          |
|                        | 电网子公司                         |                                          |
| 发电（四大集团）       | 大唐集团科学院                     |                                          |
|                        | 华润集团                           |                                          |
|                        | 神华集团                           |                                          |
|                        | 中国核电                           |                                          |
| 医院                   |                                    |                                          |
| 铁路，航空公司         | 铁路局，中国铁道科学院，航空公司， |                                          |
| 汽车                   |                                    |                                          |
| 三大运营商及其通信公司 | 联通软件研究院                     |                                          |
|                        | 中移互联网/中移在线                |                                          |
|                        | 电信                               |                                          |
| 外企/互联网公司        | Google                             |                                          |
|                        | IBM                                |                                          |
|                        | ORACLE                             |                                          |
|                        | 微软                               |                                          |
|                        | 红帽                               |                                          |
|                        | 万革始                             |                                          |
|                        | SAP                                |                                          |
|                        | intel                              |                                          |
|                        | ThoughtWorks                       |                                          |
|                        | 三星                               |                                          |
|                        | 华为                               |                                          |
| 一线                   | 百度                              |                                          |
|                        | 阿里                                |                                          |
|                        | 腾讯                               |                                          |
|                        | 字节                               |                                          |
|                        | 快手                                |                                          |
|                        | ...                                |                                          |
| 二线                   | 去哪儿                             |                                          |
|                        | 携程                               |                                          |
|                        | 京东                                |                                          |
|                        | 微博                                |                                          |
|                        | ...                                |                                          |
| 三线                   | 一个app撑一个公司                  |                                          |
| 创业公司               | 画饼                               |                                          |
| 独角兽                 | 商汤                               |                                          |
| 传统/制造业            | 旷视科技                           |                                          |
|                        | 深信服                             |                                          |
|                        | 新华三等                           |                                          |
|                        | 浪潮集团                           |                                          |
|                        | 龙湖地产科技部                     |                                          |
|                        | 顺丰科技                           |                                          |
|                        | 大疆科技                           |                                          |
|                        | 格力电器                           |                                          |
| 事业单位               | 国家统计局                         | http://www.stats.gov.cn/zjtj/gjtjj/jgsz/ | 考生在规定的报名时间内(自公告发布之日至4月10日) |

没听说过的：
聚力维度：ai+unity+vr/ar 创业公司